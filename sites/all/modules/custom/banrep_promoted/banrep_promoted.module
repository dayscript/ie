<?php
    module_load_include('inc', 'banrep_promoted', 'banrep_promoted');


    /**
     * Implements hook_cron();
    */
    function banrep_promoted_cron(){
        
        _verificate_users_requiremets_completed();

    }


    /**
* Implements hook_mail().
*/
function banrep_promoted_mail($key, &$message, $params) {
    $language = $message['language'];

    $variables = array(
        '!sitename' => variable_get('site_name', 'Drupal'),
        '!name'     => $params['user']->name->value(),
        '!uid'      => $params['user']->uid->value(),
        '!mail'     => $params['user']->mail->value()
    );

    switch ($key) {
        case 'user_promoted':
            $message['subject'] = t('NotificaciÃ³n recibida desde [!sitename]',
            $variables, array('langcode' => $language->language));
            $message['body'][] = t('El usuario !name a completado los requisitos para cambio de cargo, puede verificar ingresando a :', $variables, array('langcode' => $language->language) ); //t("Recuerda tus datos de acceso:");
            break;
        
        default:
            # code...
            break;
    }


   }